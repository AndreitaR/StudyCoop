<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap CSS -->
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="/css/formatoRegistrar.css" />
    <link rel="icon" href="/imagenes/StudyCoop.png" sizes="35x35" />
    <script src="/js/Validar.js"></script>
    <script lang="javascript">
      $(document).ready(function(){//ejecuta el codigo una cuando el HTML esta cargado
        // Agrega un evento que se activa cuando el formulario se envia
        $('#loginForm').on('submit', function (event){
            event.preventDefault();// Previene el comportamiento predeterminado del formulario, que es recargar la pagina
           // Obtiene los valores de los campos de entrada con id 'email' y 'password'
            var email = $('#email').val();
            var password = $('#password').val();

            if(!email || !password){// Verifica si alguno de los campos esta vacio
                window.alert('Por favor complete todos los campos.');
                return;
            }
            if(! correoValido(email)){// Prueba si el valor del email coincide con el patrón de la expresión regular
                window.alert('Por favor ingrese un correo valido, recuerde que no puede empezar con un número.');
                return;// Detiene la ejecución del código si el correo no es válido
            }
            if(! contraseniaValida(password)){
                window.alert('La contraseña debe contener al menos 7 caracteres conformados así: 1 letra mayúscula, 1 letra minúscula, 2 números, 2 caracteres especiales, y no debe contener espacios.');
                return;
            }
            this.submit();// Si todas las validaciones pasan, envía el formulario

            //verificar si el email y contraseña pertenece al admin
            if(email==='studyCoop@gmail.com' && password==='Admin12@@'){
                window.location.href='/intranet/muroAdmin.html';
            }else{
                window.location.href='/extranet/muro.html';
            }
            });
          //botón para mostrar/ocultar la contraseña
          $('#togglePassword').on('click', function(){//Agrega un evento que se activa cuando el botón es clickeado
            var passwordField = $('#password');
            var passwordFieldType = passwordField.attr('type');//tipo de entrada del campo de contraseña
            if(passwordFieldType === 'password'){
              //Si el tipo es 'password', lo cambia a 'text' para mostrar la contraseña
              passwordField.attr('type', 'text');
              $(this).text('Ocultar contraseña');
            } else {
              //Si el tipo es 'text', lo cambia a 'password' para ocultar la contraseña
              passwordField.attr('type', 'password');
              $(this).text('Mostrar contraseña');
            }
          });
      });
    </script>
    <title>StudyCoop - Iniciar sesi&oacute;n</title>
  </head>

  <body>
    <div class="contenedor">
      <center>
        <h1>
          <img src="/imagenes/StudyCoop.png" alt="StudyCoop Logo" />
          <br />
          <b class="marca">StudyCoop</b>
        </h1>
        <br />
        <h2 class="bienvenido"><b>Bienvenido al inicio de sesi&oacute;n</b></h2>
        <h3>
          <br />
          <form
            id="loginForm"
            action="/extranet/muro.html"
            method="get"
            class="validacion"
            novalidate
          >
            <!--novalidate es para que solo se use la validacion de java-->
            <div class="contenedor-entrada">
              <label for="email">Correo:</label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                placeholder="Ingrese su correo electrónico"
                required
              />
            </div>
            <div class="contenedor-entrada">
              <label for="password">Contrase&ntilde;a:</label>
              <div class="password-container">
                <input
                  type="password"
                  class="form-control"
                  id="password"
                  name="password"
                  placeholder="Ingrese su contraseña"
                  required
                />
                <button class="botonVisible" type="button" id="togglePassword">
                  Mostrar contrase&ntilde;a
                </button>
              </div>
            </div>
            <button type="submit" class="btn btn-primary boton-primario">
              Ingresar
            </button>
            <div class="button-container">
              <a
                href="/internet/registrar.html"
                class="btn btn-secondary boton-secundario"
                >Registrarse</a
              >
              <a href="" class="btn btn-secondary boton-secundario"
                >Olvid&eacute; mi contrase&ntilde;a</a
              >
            </div>
          </form>
        </h3>
        <br />
        <nav class="nav-contenedor">
          <a href="/internet/presentacion.html" class="nav-boton izquierda">
            Atr&aacute;s
          </a>
          <a href="/internet/buscarSinRegistro.html" class="nav-boton derecha">
            Buscar
          </a>
        </nav>
      </center>
    </div>
    <br />
    <footer>
      <p>&copy; 2024 StudyCoop. Todos los derechos reservados.</p>
      <nav>
        <ul>
          <li>
            <a href="/internet/presentacion.html">Acerca de Nosotros</a>
          </li>
          <li>
            <a href="">studyCoop@gmail.com</a>
          </li>
          <li><a href="">Pol&iacute;tica de Privacidad</a></li>
        </ul>
      </nav>
    </footer>
  </body>
</html>
